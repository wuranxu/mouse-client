name: 获取woody当前拥有的项目
steps:
  - step_name: 登录pity
    url: https://api.pity.fun/auth/login
    headers: { "Content-Type": "application/json" }
    method: POST
    body: |
      { "username": "tester", "password": "tester" }
    status_check: true
    out:
      - name: 返回token
        from: response
        extract_type: JSONPath
        expression: $.data.data.token
        variable: login_token
    check:
      - name: 判断用户是否登录成功
        assert_type: equal
        expected: 0
        actually: $.code
        error_msg: 接口返回不为0
        disabled: true

  - step_name: 获取用户项目
    headers:
      Content-Type: application/json
      token: ${login_token}
    url: https://api.pity.fun/project/list
    method: GET
    status_check: true
    check:
      - name: 检测项目是否不为空
        assert_type: length gt
        expected: 0
        actually: $.data
        error_msg: 用户项目返回为空
        disabled: true

